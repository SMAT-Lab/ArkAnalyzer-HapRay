hiperf: # 性能采样相关
  duration: 30  # 默认采样时长（秒）
  output_path: "/data/local/tmp/perf.data"  # 性能数据在手机中的输出路径
  data_filename: "perf.data"  # 性能数据文件名
  db_filename: "perf.db"  # 数据库文件名
  event: raw-instruction-retired # 默认采集指令数，可配置为raw-cpu-cycles采集cycles
trace:
  enable: True
memory:
  enable: False  # Memory采集开关（通过命令行参数控制）
  max_stack_depth: 100  # Native Memory采集的最大调用栈深度
  interval_seconds: 2  # Level1 Memory采集的间隔时间（秒）
  snapshot_enable: False  # Snapshot采集开关
ui:
  capture_enable: True  # UI数据采集开关（截图和组件树）

# hilog日志分析配置
hilog:
  # 正则匹配规则，每个规则包含regex、groups和conditions
  # groups: 要提取的分组索引（从1开始，0表示整个匹配）
  # conditions: 条件过滤数组，与groups一一对应，支持运算符：==, !=, <, >, <=, >=
  patterns:
    # 示例规则：匹配memtype的值，4是DMA_ALLOC
    - name: "图片解码没有使用DMA(memType!=4)"  # 规则名称
      regex: "CreatePixelMap success,.*memType\\s*:\\s*(\\d+),\\s*cost\\s+\\d+\\s+us"  # 正则表达式，带分组
      # regex: "CreatePixelMapExtended success,.*memoryType\\s*:\\s*(\\d+),\\s*cost\\s+\\d+\\s+us"  # 正则表达式，带分组
      groups: [1]  # 要提取的分组索引（从1开始，0表示整个匹配）
      conditions: ["!=4"]  # 条件过滤，与groups一一对应，满足条件才计数

# 帧分析配置
frame_analysis:
  # 进行深度分析的TOP N卡顿帧数量
  # 建议值: 5-20，根据性能需求调整
  top_n_analysis: 10

# 调用链精化过滤配置
callchain_filter:
  # 文件和符号绑定排除规则（文件和符号必须同时匹配才排除）
  # 使用YAML锚点避免重复定义符号列表
  exclude_rules:
    # 匹配包含 libc 或 libc++ 的 .so 文件（包含关系）
    '.*libc(\+\+)?\.so.*': 
      - '.*'
    # ld-musl-aarch64.so 
    '.*ld-musl-aarch64\.so.*': 
      - '.*'
    # libc++_shared.so 
    '.*libc\+\+_shared\.so.*': 
      - '.*'
    # /system/lib64/chipset-pub-sdk/libutils.z.so
    '.*/system/lib64/chipset-pub-sdk/libutils\.z\.so':
      - 'OHOS::Parcel::Parcel()'




