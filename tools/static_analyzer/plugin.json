{
  "id": "static_analyzer",
  "name": "静态分析",
  "description": "HAP静态分析，分析HAP/ZIP文件或目录中的框架与资源",
  "version": "1.0.0",
  "author": "HapRay Team",
  "execution": {
    "debug": {
      "cmd": ["node -r ts-node/register "],
      "script": "src/cli/index.ts"
    },
    "release": {
      "cmd": ["node"],
      "script": "hapray-sa-cmd.js"
    }
  },
  "actions": {
    "static": {
      "name": "静态分析",
      "description": "HAP静态分析，分析HAP/ZIP文件或目录中的框架与资源",
      "action_mapping": {
        "type": "map",
        "command": ["hapray", "hap"]
      },
      "parameters": {
        "input": {
          "type": "file",
          "label": "输入路径",
          "required": true,
          "short": "i",
          "help": "HAP/ZIP文件或目录路径"
        },
        "output": {
          "type": "dir",
          "label": "输出目录",
          "required": false,
          "default": "./output",
          "short": "o",
          "help": "输出目录路径"
        },
        "jobs": {
          "type": "str",
          "label": "并发数量",
          "required": false,
          "default": "auto",
          "help": "并发分析数量，默认为CPU核心数"
        },
        "include_details": {
          "type": "bool",
          "label": "包含详细信息",
          "required": false,
          "default": false,
          "help": "是否包含详细信息"
        }
      }
    }
  },
  "config": {
    "description": "静态分析插件配置项",
    "items": {
      "node_path": {
        "type": "str",
        "label": "Node.js路径",
        "default": "node",
        "help": "用于执行Node.js脚本的Node.js解释器路径",
        "required": false
      },
      "default_jobs": {
        "type": "str",
        "label": "默认并发数量",
        "default": "auto",
        "help": "默认的并发分析数量",
        "required": false
      },
      "enable_cache": {
        "type": "bool",
        "label": "启用缓存",
        "default": true,
        "help": "是否启用分析结果缓存",
        "required": false
      }
    }
  }
}

